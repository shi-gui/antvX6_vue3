import{p as d,a as l,i as f,d as c,U as g,b as m,O as h,N as p,o as C,c as v,j as x}from"./index.8b650541.js";import{P}from"./AntdIcon.e891d196.js";class R{constructor(r,n){this._keyframe=!0,this.name=r,this.style=n}getName(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?`${r}-${this.name}`:this.name}}const U=R;function $(e){let{prefixCls:r,animation:n,transitionName:o}=e;return n?{name:`${r}-${n}`}:o?{name:o}:{}}const u=Symbol("PortalContextKey"),y=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};d(u,{inTriggerContext:r.inTriggerContext,shouldRender:l(()=>{const{sPopupVisible:n,popupRef:o,forceRender:t,autoDestroy:a}=e||{};let i=!1;return(n||o||t)&&(i=!0),!n&&a&&(i=!1),i})})},T=()=>{y({},{inTriggerContext:!1});const e=f(u,{shouldRender:l(()=>!1),inTriggerContext:!1});return{shouldRender:l(()=>e.shouldRender.value||e.inTriggerContext===!1)}},b=c({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:P.func.isRequired,didUpdate:Function},setup(e,r){let{slots:n}=r,o=!0,t;const{shouldRender:a}=T();g(()=>{o=!1,a.value&&(t=e.getContainer())});const i=m(a,()=>{a.value&&!t&&(t=e.getContainer()),t&&i()});return h(()=>{p(()=>{var s;a.value&&((s=e.didUpdate)===null||s===void 0||s.call(e,e))})}),C(()=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),()=>{var s;return a.value?o?(s=n.default)===null||s===void 0?void 0:s.call(n):t?v(x,{to:t},n):null:null}}});export{U as K,b as P,$ as g,y as u};
